// export ANDROID_HOME=/osshare/software/google/android-sdk-linux

apply plugin: 'com.android.application'

repositories {
    //mavenCentral()

    // required to work with aar file in libs dir
    flatDir {
        dirs 'libs'
    }
}

buildscript {
    // required for using gradle i.s.o. gradlew
    repositories {
        jcenter()
    }
    dependencies {
        //classpath 'com.android.tools.build:gradle:3.0.0' // 3.0.0 is not in jcenter
        classpath 'com.android.tools.build:gradle:2.3.0'
    }
}

// Run ./gradlew -q :dependencies

android {
    dependencies {
      //compile project(':AndroidBase')
    	compile 'com.doubleyellow:AndroidBase@aar'

        compile fileTree(dir: 'libs', include: ['*.jar'])

    	// 24.1.1 vs 23.4.0 vs 25.3.1 vs 27.0.1
        compile 'com.android.support:percent:25.3.1'

        //compile 'com.android.support:support-v4:25.3.1'   // v4 not required
        //compile 'com.android.support:appcompat-v7:25.3.1' // not required for building

        compile 'com.android.support:support-v13:25.3.1'

        // ChromeCast
        //compile 'com.google.android.gms:play-services-cast:11.6.0' // not found using jcenter
        compile 'com.google.android.gms:play-services-cast:11.0.4'

        //compile 'com.android.support:recyclerview-v7:25.3.1'
    }

    // 25, 26
    //compileSdkVersion 25
    compileSdkVersion 27
    // buildToolsVersion not required for gradle 3.0.0 and higher (e.g. when using wrapper)
    //buildToolsVersion '25.0.2'
    buildToolsVersion '27.0.1'

    useLibrary  'org.apache.http.legacy'
    lintOptions {
        disable 'MissingTranslation'
        checkReleaseBuilds true
        // Or, if you prefer, you can continue to check for errors in release builds, but continue the build even when errors are found:
        abortOnError false
        //deprecation true
    }
    defaultConfig {
	    // must match (or be larger than) minSdkVersion of AndroidBase
        minSdkVersion 14
        // next property is not required for building... but should be specified for publishing in play-store
        targetSdkVersion 27
    }
    sourceSets {
        main {
            manifest {
                srcFile 'AndroidManifestSquore.xml'
                //srcFile 'AndroidManifestRacketlon.xml'
                //srcFile 'AndroidManifestTabletennis.xml'
                //srcFile 'AndroidManifestCourtCare.xml'
                //srcFile 'AndroidManifestUniOfNotthingham.xml'
                //srcFile 'AndroidManifestASB.xml'
            }
            java {
                srcDir 'src'
                // exclude '**/cast/**'
            }
            res {
                srcDir 'res'
            }
        }
    }

    signingConfigs {
        release {
            storeFile file("/osshare/code/DoubleYellow/DoubleYellow.keystore")
            storePassword "this2hib"
            keyAlias "DoubleYellow"
            keyPassword "this2hib"
        }
    }
    buildTypes {
        release {
            signingConfig signingConfigs.release
        }
	/*
        minified {
            //debuggable true
            minifyEnabled true
            // 'shrinkResources=true' currently only helps for 2%
            shrinkResources true
            proguardFile 'proguard-project.txt'
            signingConfig signingConfigs.release
        }
	*/
    }
}
